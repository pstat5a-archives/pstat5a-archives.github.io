<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Ethan P. Marzban">
<meta name="dcterms.date" content="2023-07-18">

<title>PSTAT 5A: Summer Session A, 2023 - PSTAT 5A: Lecture 14</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<link href="../../../Images/Logos_Icons/5a_hex.png" rel="icon" type="image/png">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../../../styles.css">
</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">
      PSTAT 5A: Summer Session A, 2023
      </li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="../../../index.html" class="sidebar-logo-link">
      <img src="../../../Images/Logos_Icons/5a_hex.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
    <div class="sidebar-title mb-0 py-0">
      <a href="../../../">PSTAT 5A: Summer Session A, 2023</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Course Info</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../Pages/syllabus.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Syllabus</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../Pages/schedule.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Schedule of Topics</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../Pages/calendar.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Sections and Calendar</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../Pages/course_staff.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Course Staff / OH</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Homework</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../Pages/hw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">HW and Solns</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
 <span class="menu-text">Exam Prep</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../Pages/exam_prep.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exam Prep</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#cats" id="toc-cats" class="nav-link active" data-scroll-target="#cats">Cats!</a></li>
  <li><a href="#cats-1" id="toc-cats-1" class="nav-link" data-scroll-target="#cats-1">Cats!</a></li>
  <li><a href="#hypothesis-testing" id="toc-hypothesis-testing" class="nav-link" data-scroll-target="#hypothesis-testing">Hypothesis Testing</a></li>
  <li><a href="#hypothesis-testing-1" id="toc-hypothesis-testing-1" class="nav-link" data-scroll-target="#hypothesis-testing-1">Hypothesis Testing</a></li>
  <li><a href="#hypothesis-testing-2" id="toc-hypothesis-testing-2" class="nav-link" data-scroll-target="#hypothesis-testing-2">Hypothesis Testing</a></li>
  <li><a href="#terminology" id="toc-terminology" class="nav-link" data-scroll-target="#terminology">Terminology</a></li>
  <li><a href="#setting-the-hypotheses" id="toc-setting-the-hypotheses" class="nav-link" data-scroll-target="#setting-the-hypotheses">Setting the Hypotheses</a></li>
  <li><a href="#worked-out-example" id="toc-worked-out-example" class="nav-link" data-scroll-target="#worked-out-example">Worked-Out Example</a></li>
  <li><a href="#solutions" id="toc-solutions" class="nav-link" data-scroll-target="#solutions">Solutions</a></li>
  <li><a href="#solutions-contd" id="toc-solutions-contd" class="nav-link" data-scroll-target="#solutions-contd">Solutions (cont’d)</a></li>
  <li><a href="#hypothesis-testing-3" id="toc-hypothesis-testing-3" class="nav-link" data-scroll-target="#hypothesis-testing-3">Hypothesis Testing</a></li>
  <li><a href="#fail-to-reject" id="toc-fail-to-reject" class="nav-link" data-scroll-target="#fail-to-reject">Fail To Reject?</a></li>
  <li><a href="#four-states-of-the-world" id="toc-four-states-of-the-world" class="nav-link" data-scroll-target="#four-states-of-the-world">Four States of the World</a></li>
  <li><a href="#four-states-of-the-world-1" id="toc-four-states-of-the-world-1" class="nav-link" data-scroll-target="#four-states-of-the-world-1">Four States of the World</a></li>
  <li><a href="#type-i-and-type-ii-errors" id="toc-type-i-and-type-ii-errors" class="nav-link" data-scroll-target="#type-i-and-type-ii-errors">Type I and Type II Errors</a></li>
  <li><a href="#type-i-and-type-ii-errors-1" id="toc-type-i-and-type-ii-errors-1" class="nav-link" data-scroll-target="#type-i-and-type-ii-errors-1">Type I and Type II Errors</a></li>
  <li><a href="#worked-out-example-2" id="toc-worked-out-example-2" class="nav-link" data-scroll-target="#worked-out-example-2">Worked-Out Example</a></li>
  <li><a href="#solutions-1" id="toc-solutions-1" class="nav-link" data-scroll-target="#solutions-1">Solutions</a></li>
  <li><a href="#constructing-tests-for-a-proportion" id="toc-constructing-tests-for-a-proportion" class="nav-link" data-scroll-target="#constructing-tests-for-a-proportion">Constructing Tests for a Proportion</a>
  <ul class="collapse">
  <li><a href="#leadup" id="toc-leadup" class="nav-link" data-scroll-target="#leadup">Leadup</a></li>
  <li><a href="#leadup-1" id="toc-leadup-1" class="nav-link" data-scroll-target="#leadup-1">Leadup</a></li>
  <li><a href="#test-statistic" id="toc-test-statistic" class="nav-link" data-scroll-target="#test-statistic">Test Statistic</a></li>
  <li><a href="#test-statistic-1" id="toc-test-statistic-1" class="nav-link" data-scroll-target="#test-statistic-1">Test Statistic</a></li>
  <li><a href="#test-statistic-2" id="toc-test-statistic-2" class="nav-link" data-scroll-target="#test-statistic-2">Test Statistic</a></li>
  <li><a href="#constructing-the-test" id="toc-constructing-the-test" class="nav-link" data-scroll-target="#constructing-the-test">Constructing the Test</a></li>
  <li><a href="#the-errors" id="toc-the-errors" class="nav-link" data-scroll-target="#the-errors">The Errors</a></li>
  </ul></li>
  <li><a href="#section" id="toc-section" class="nav-link" data-scroll-target="#section"></a>
  <ul class="collapse">
  <li><a href="#the-compromise" id="toc-the-compromise" class="nav-link" data-scroll-target="#the-compromise">The Compromise</a></li>
  <li><a href="#the-compromise-1" id="toc-the-compromise-1" class="nav-link" data-scroll-target="#the-compromise-1">The Compromise</a></li>
  <li><a href="#the-distribution-of-the-test-statistic" id="toc-the-distribution-of-the-test-statistic" class="nav-link" data-scroll-target="#the-distribution-of-the-test-statistic">The Distribution of the Test Statistic</a></li>
  <li><a href="#the-test" id="toc-the-test" class="nav-link" data-scroll-target="#the-test">The Test</a></li>
  <li><a href="#the-test-1" id="toc-the-test-1" class="nav-link" data-scroll-target="#the-test-1">The Test</a></li>
  <li><a href="#the-assumptions" id="toc-the-assumptions" class="nav-link" data-scroll-target="#the-assumptions">The Assumptions</a></li>
  <li><a href="#the-test-2" id="toc-the-test-2" class="nav-link" data-scroll-target="#the-test-2">The Test</a></li>
  <li><a href="#worked-out-example-3" id="toc-worked-out-example-3" class="nav-link" data-scroll-target="#worked-out-example-3">Worked-Out Example</a></li>
  <li><a href="#solutions-2" id="toc-solutions-2" class="nav-link" data-scroll-target="#solutions-2">Solutions</a></li>
  <li><a href="#solutions-3" id="toc-solutions-3" class="nav-link" data-scroll-target="#solutions-3">Solutions</a></li>
  <li><a href="#worked-out-example-4" id="toc-worked-out-example-4" class="nav-link" data-scroll-target="#worked-out-example-4">Worked-Out Example</a></li>
  <li><a href="#solutions-4" id="toc-solutions-4" class="nav-link" data-scroll-target="#solutions-4">Solutions</a></li>
  <li><a href="#solutions-contd-1" id="toc-solutions-contd-1" class="nav-link" data-scroll-target="#solutions-contd-1">Solutions (cont’d)</a></li>
  <li><a href="#one-sided-tests" id="toc-one-sided-tests" class="nav-link" data-scroll-target="#one-sided-tests">One-Sided Tests</a></li>
  <li><a href="#lower-tailed-test" id="toc-lower-tailed-test" class="nav-link" data-scroll-target="#lower-tailed-test">Lower-Tailed Test</a></li>
  <li><a href="#upper-tailed-test" id="toc-upper-tailed-test" class="nav-link" data-scroll-target="#upper-tailed-test">Upper-Tailed Test</a></li>
  <li><a href="#note" id="toc-note" class="nav-link" data-scroll-target="#note">Note</a></li>
  </ul></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="Lec14.html"><i class="bi bi-file-slides"></i>RevealJS</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">PSTAT 5A: Lecture 14</h1>
<p class="subtitle lead">Hypothesis Testing, Part I</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Ethan P. Marzban </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">July 18, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="cats" class="level2" style="font-size:30px">
<h2 style="font-size:30px" class="anchored" data-anchor-id="cats">Cats!</h2>
<ul>
<li><p>As we have previously seen…</p></li>
<li><p>… I like cats.</p></li>
<li><p>So, let’s consider another cat example!</p></li>
<li><p>It is often stated that only 1 in 5 orange tabby cats is female; i.e.&nbsp;that only 20% of orange tabby cats are female.</p></li>
<li><p>Let’s say we take a representative sample of 100 orange tabby cats and find that 19 of these cats are female.</p></li>
<li><p>Since we observed a proportion of only 19% female cats in our sample, does that mean the claim of 20% of orange tabby cats being female is wrong?</p></li>
<li><p>Well, no! We know that this 19% is actually an observed instance of <span class="math inline">\(\widehat{P}\)</span>, which itself is random.</p>
<ul>
<li>Furthermore, 19% is pretty close to 20% so there’s nothing obviously letting us know that the claim is false.</li>
</ul></li>
</ul>
</section>
<section id="cats-1" class="level2" style="font-size:30px">
<h2 style="font-size:30px" class="anchored" data-anchor-id="cats-1">Cats!</h2>
<ul>
<li><p>However, if instead our sample of 100 orange tabby cats contained only 1 female in this sample, we might start to question the claim that 20% of orange tabby cats are female.</p></li>
<li><p>Okay, what if in our sample of 100 orange tabby cats we actually only observed 15 female cats?</p></li>
<li><p>Things are perhaps a bit less clear now… we know that there will be some variability in our point estimator, but how much variability would we really expect? Enough to plausibly observe a sample proportion of 15%?</p></li>
</ul>
<p><br>
</p>
<ul>
<li>A little more abstractly: we started with a <strong>hypothesis</strong> (in this example, “20% of orange tabby cats are female”). We then wish to use our <em>data</em> to <em>test</em> how plausible this hypothesis is.</li>
</ul>
</section>
<section id="hypothesis-testing" class="level2" style="font-size:30px">
<h2 style="font-size:30px" class="anchored" data-anchor-id="hypothesis-testing">Hypothesis Testing</h2>
<ul>
<li><p>This is exactly the framework of <strong>hypothesis testing</strong>.</p></li>
<li><p>In hypothesis testing, we start with a pair of competing claims which we call the <strong>null hypothesis</strong> and <strong>alternative hypothesis</strong>, respectively.</p>
<ul>
<li>We use <span class="math inline">\(H_0\)</span>, read as “h-naught”, to denote the null hypothesis and <span class="math inline">\(H_A\)</span> to denote the alternative hypothesis.</li>
</ul></li>
<li><p>For instance, in our cat example above the null hypothesis would be “<span class="math inline">\(H_0\)</span>: the true proportion of orange cats that are female is 20%”.</p></li>
<li><p>Oftentimes we will want to phrase our hypotheses in more mathematical terms. This is where the notation we’ve used over the past few lectures comes into play: letting <span class="math inline">\(p\)</span> denote the true proportion of orange tabby cats that are female, we can write our null hypothesis as <span class="math display">\[ H_0: \ p = 0.2 \]</span></p></li>
</ul>
</section>
<section id="hypothesis-testing-1" class="level2" style="font-size:30px">
<h2 style="font-size:30px" class="anchored" data-anchor-id="hypothesis-testing-1">Hypothesis Testing</h2>
<ul>
<li><p>What about the alternative hypothesis?</p></li>
<li><p>As the name suggests, the alternative hypothesis provides some sort of alternative to the null.</p></li>
<li><p>Let’s look at our cat example again. Here are some potential alternatives to the null:</p>
<ul>
<li><span class="math inline">\(p \neq 0.2\)</span> (i.e.&nbsp;the true proportion of orange tabby cats that are female is not 20%)</li>
<li><span class="math inline">\(p &gt; 0.2\)</span> (i.e.&nbsp;the true proportion of orange tabby cats that are female is larger than 20%)</li>
<li><span class="math inline">\(p &lt; 0.2\)</span> (i.e.&nbsp;the true proportion of orange tabby cats that are female is less than 20%)</li>
<li><span class="math inline">\(p = 0.10\)</span> (i.e.&nbsp;the true proportion of orange tabby cats that are female is 10%)</li>
</ul></li>
</ul>
</section>
<section id="hypothesis-testing-2" class="level2" style="font-size:28px">
<h2 style="font-size:28px" class="anchored" data-anchor-id="hypothesis-testing-2">Hypothesis Testing</h2>
<ul>
<li><p>Each of these alternative hypotheses has a name.</p></li>
<li><p>Before we talk about these names, let’s establish a slightly more general framework for conducting hypothesis testing on a proportion.</p></li>
<li><p>Our null hypothesis will often take the form <span class="math display">\[ H_0 : \ p = p_0 \]</span> for some prespecified value <span class="math inline">\(p_0\)</span> (e.g.&nbsp;20%, like in our cat example above).</p></li>
<li><p>This leads to four possible alternative hypotheses:</p>
<ul>
<li><span class="math inline">\(H_A: \ p \neq p_0\)</span></li>
<li><span class="math inline">\(H_A: \ p &gt; p_0\)</span></li>
<li><span class="math inline">\(H_A: \ p &lt; p_0\)</span></li>
<li><span class="math inline">\(H_A: \ p = p_1\)</span> (where <span class="math inline">\(p_1 \neq p_0\)</span>)</li>
</ul></li>
<li><p>I’d like to stress: in a specific hypothesis testing problem, <u>we need to pick <em>one</em> of these alternative hypotheses</u></p></li>
</ul>
</section>
<section id="terminology" class="level2" style="font-size:28px">
<h2 style="font-size:28px" class="anchored" data-anchor-id="terminology">Terminology</h2>
<ul>
<li><p>When our alternative hypothesis is of the form <span class="math inline">\(H_A: \ p \neq p_0\)</span>, we refer to the situation as a <strong>two-sided</strong> hypothesis test.</p></li>
<li><p>When our alternative hypothesis is of the form <span class="math inline">\(H_A: \ p &gt; p_0\)</span> or <span class="math inline">\(H_A: \ p &lt; p_0\)</span>, we refer to the situation as a <strong>one-sided</strong> hypothesis test. Specifically:</p>
<ul>
<li><span class="math inline">\(H_A: \ p &lt; p_0\)</span> leads to a <strong>lower-tailed test</strong></li>
<li><span class="math inline">\(H_A: \ p &gt; p_0\)</span> leads to an <strong>upper-tailed test</strong></li>
</ul></li>
<li><p>When our alternative hypothesis is of the form <span class="math inline">\(H_A: \ p = p_1\)</span> (for some value <span class="math inline">\(p_1\)</span> different than our <strong>null value</strong> <span class="math inline">\(p_0\)</span>), we refer to the situation as a <strong>simple-vs-simple</strong> hypothesis test.</p></li>
<li><p>Again, our test will be only <em>one</em> of the above!</p></li>
<li><p>Additionally, it is usually up to the tester (i.e.&nbsp;the statistician or datascientist in charge of conducting the hypothesis test) to pick which set of hypotheses to use.</p></li>
</ul>
</section>
<section id="setting-the-hypotheses" class="level2" style="font-size:28px">
<h2 style="font-size:28px" class="anchored" data-anchor-id="setting-the-hypotheses">Setting the Hypotheses</h2>
<ul>
<li><p>Okay, so which test to we use when?</p></li>
<li><p>In practice, there isn’t a one-size-fits-all approach to knowing which set of hypotheses to adapt in a given situation.</p></li>
<li><p>Usually, in the absence of any additional information, we adopt a two-sided test as it tends to be the most general.</p></li>
<li><p>However, sometimes additional information may be available to us that may influence us to select a different type of test.</p>
<ul>
<li>For example, if previous studies have resulted in numerous observed sample proportions much less than the null value <span class="math inline">\(p_0\)</span>, we may want to adopt a lower-tailed test.</li>
</ul></li>
<li><p>How do we set the null hypothesis? Well, typically the null hypothesis is easier to set: I like to think of it as the “status quo”.</p>
<ul>
<li>In other words, the null hypothesis is often taken to be whatever the existing claims state; e.g.&nbsp;that 20% of orange tabby cats are female.</li>
</ul></li>
</ul>
</section>
<section id="worked-out-example" class="level2">
<h2 class="anchored" data-anchor-id="worked-out-example">Worked-Out Example</h2>
<div class="fragment">
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Worked-Out Example 1
</div>
</div>
<div class="callout-body-container callout-body">
<div class="nonincremental">
<div style="font-size: 28px">
<p><em>Forbes</em> magazine has claimed that, as of May 2023, 91.7% of US households own a vehicle.</p>
<ol type="a">
<li>What is the population?</li>
<li>What is the sample?</li>
<li>Define the parameter of interest.</li>
<li>Define the random variable of interest.</li>
<li>Write down the null hypothesis for this test.</li>
<li>Write down the two-sided alternative hypothesis for this test.</li>
<li>Write down the lower-tailed alternative hypothesis for this test.</li>
<li>Write down the upper-tailed alternative hypothesis for this test.</li>
</ol>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="solutions" class="level2" style="font-size:32px">
<h2 style="font-size:32px" class="anchored" data-anchor-id="solutions">Solutions</h2>
<ol type="a">
<li>The population is the set of all US households.</li>
<li>The sample is the representative sample of 500 US households we took.</li>
<li>The parameter of interest is <span class="math inline">\(p =\)</span> the true proportion of US households that own a vehicle.</li>
<li>The random variable of interest is <span class="math inline">\(\widehat{P} =\)</span> the proportion of households in a sample of 500 that own a vehicle.</li>
<li>Recall that the null hypothesis can be thought of as the “status quo”.
<ul>
<li>In other words, we take the null to be whatever claim we want to test: <span class="math display">\[ H_0 : \ p = 0.917 \]</span></li>
</ul></li>
</ol>
</section>
<section id="solutions-contd" class="level2" style="font-size:32px">
<h2 style="font-size:32px" class="anchored" data-anchor-id="solutions-contd">Solutions (cont’d)</h2>
<ol start="6" type="a">
<li><p>The two-sided alternative hypothesis would be that the proportion of households that own a vehicle is <em>not equal to</em> 91.7%: <span class="math display">\[ H_A: \ p \neq 0.917 \]</span></p></li>
<li><p>The lower-tailed alternative hypothesis would be that the proportion of households that own a vehicle is <em>less than</em> 91.7%: <span class="math display">\[ H_A: \ p &lt; 0.917 \]</span></p></li>
<li><p>The lower-tailed alternative hypothesis would be that the proportion of households that own a vehicle is <em>greater than</em> 91.7%: <span class="math display">\[ H_A: \ p &gt; 0.917 \]</span></p></li>
</ol>
</section>
<section id="hypothesis-testing-3" class="level2" style="font-size:30px">
<h2 style="font-size:30px" class="anchored" data-anchor-id="hypothesis-testing-3">Hypothesis Testing</h2>
<ul>
<li><p>Alright, here is what we have so far in terms of hypotheses:</p>
<ul>
<li>The <strong>null hypothesis</strong> represents a sort of “status quo” statement.</li>
<li>The <strong>alternative hypothesis</strong> represents an alternative to the status quo.</li>
</ul></li>
<li><p>So, what is a hypothesis <em>test</em>?</p></li>
<li><p>A <strong>hypothesis test</strong> is a framework/procedure that allows us to determine whether or not the null should be rejected in favor of the alternative.</p></li>
<li><p>Naturally, a hypothesis test will depend on <em>data</em>! As such, we can think of a hypothesis test as a <em>function</em> that takes in data and outputs either <code>reject H0</code> or <code>fail to reject H0</code>. <span class="math display">\[ \texttt{decision}(\texttt{data}) = \begin{cases} \texttt{reject } H_0 &amp; \text{if } \texttt{...} \\  \texttt{fail to reject } H_0 &amp; \text{if } \texttt{...} \\ \end{cases}  \]</span></p></li>
</ul>
</section>
<section id="fail-to-reject" class="level2" style="font-size:28px">
<h2 style="font-size:28px" class="anchored" data-anchor-id="fail-to-reject">Fail To Reject?</h2>
<ul>
<li><p>By the way, the results of a hypothesis test are always framed in terms of the null hypothesis; e.g.&nbsp;“reject <span class="math inline">\(H_0\)</span>” or “fail to reject <span class="math inline">\(H_0\)</span>”.</p></li>
<li><p>Wait, why are we saying “fail to reject <span class="math inline">\(H_0\)</span>”? Isn’t that just equivalent to “accept <span class="math inline">\(H_0\)</span>”?</p></li>
<li><p>Well, not quite…</p></li>
<li><p>Think of it this way: just because we are saying the particular alternative hypothesis we picked is less plausible than the null, doesn’t mean there isn’t a <em>different</em> alternative hypothesis that is more plausible than the null.</p></li>
<li><p>All we are saying when we fail to reject the null is exactly that- we didn’t have enough information to reject <span class="math inline">\(H_0\)</span> outright. We are <em>not</em> saying that <span class="math inline">\(H_0\)</span> must be true.</p></li>
<li><p>Admittedly, some statisticians have gotten a little lax with this distinction and you may encounter textbooks and/or professors that use terms like “accept the null”.</p>
<ul>
<li>For better or for worse, I am a bit of a traditionalist in this respect and will adhere to the terminology “fail to reject” in favor of “accept”.</li>
</ul></li>
</ul>
</section>
<section id="four-states-of-the-world" class="level2" style="font-size:30px">
<h2 style="font-size:30px" class="anchored" data-anchor-id="four-states-of-the-world">Four States of the World</h2>
<ul>
<li><p>Okay, so we’ve talked a bit more about what a hypothesis test actually is: it is a procedure that takes in data and outputs a <em>decision</em> on whether or not to reject the null.</p></li>
<li><p>Behind the scenes, however, the null will either be true or not.</p></li>
<li><p>This leads to the following four situations:</p></li>
</ul>
<div class="fragment">

<table>
<tbody><tr>
<td style="border: 0px solid black;">
</td>
<td style="border: 0px solid black;">
</td>
<td colspan="2" padding-left:10px;="" background-color:="" #c4eef2;="" style="text-align: center"><b>Result of Test</b></td>
</tr>
<tr>
<td style="border: 0px solid black;">
</td>
<td style="border: 0px solid black;">
</td>
<td style="border: 1px solid black; padding-right:10px;  padding-left:10px; width:5cm; text-align: center">
<b>Reject</b>
</td>
<td style="border: 1px solid black; padding-right:10px;  padding-left:10px; width:5cm; text-align: center">
<b>Fail to Reject</b>
</td>
</tr>
<tr>
<td style="border: 0px solid black; text-align: center; vertical-align: middle;" rowspan="2">
<b><i>H</i><sub>0</sub></b>
</td>
<td style="border: 0px solid black;">
<b>True</b>
</td>
<td style="border: 1px solid black; padding-right:10px;  padding-left:10px; text-align:center; color:red">
</td>
<td style="border: 1px solid black; padding-right:10px;  padding-left:10px; text-align:center">
</td>
</tr>
<tr>
<td style="border: 0px solid black;">
<b>False</b>
</td>
<td style="border: 1px solid black; padding-right:10px;  padding-left:10px; text-align:center">
</td>
<td style="border: 1px solid black; padding-right:10px;  padding-left:10px; text-align:center">
</td>
</tr>

</tbody></table>
</div>
<p><br>
</p>
<ul>
<li>Some of these situations are good, and some of these are bad! Which are which?</li>
</ul>
</section>
<section id="four-states-of-the-world-1" class="level2" style="font-size:30px">
<h2 style="font-size:30px" class="anchored" data-anchor-id="four-states-of-the-world-1">Four States of the World</h2>
<p><br>
</p>

<table>
<tbody><tr>
<td style="border: 0px solid black;">
</td>
<td style="border: 0px solid black;">
</td>
<td colspan="2" padding-left:10px;="" background-color:="" #c4eef2;="" style="text-align: center"><b>Result of Test</b></td>
</tr>
<tr>
<td style="border: 0px solid black;">
</td>
<td style="border: 0px solid black;">
</td>
<td style="border: 1px solid black; padding-right:10px;  padding-left:10px; width:5cm; text-align: center">
<b>Reject</b>
</td>
<td style="border: 1px solid black; padding-right:10px;  padding-left:10px; width:5cm; text-align: center">
<b>Fail to Reject</b>
</td>
</tr>
<tr>
<td style="border: 0px solid black; text-align: center; vertical-align: middle;" rowspan="2">
<b><i>H</i><sub>0</sub></b>
</td>
<td style="border: 0px solid black;">
<b>True</b>
</td>
<td style="border: 1px solid black; padding-right:10px;  padding-left:10px; text-align:center; color:red">
<b>BAD</b>
</td>
<td style="border: 1px solid black; padding-right:10px;  padding-left:10px; text-align:center; color:green">
<b>GOOD</b>
</td>
</tr>
<tr>
<td style="border: 0px solid black;">
<b>False</b>
</td>
<td style="border: 1px solid black; padding-right:10px;  padding-left:10px; text-align:center; color:green">
<b>GOOD</b>
</td>
<td style="border: 1px solid black; padding-right:10px;  padding-left:10px; text-align:center; color:red">
<b>BAD</b>
</td>
</tr>

</tbody></table>
<p><br>
</p>
<ul>
<li>We give names to the two “bad” situations: <strong>Type I</strong> and <strong>Type II</strong> errors.</li>
</ul>
<div class="fragment">

<table>
<tbody><tr>
<td style="border: 0px solid black;">
</td>
<td style="border: 0px solid black;">
</td>
<td colspan="2" padding-left:10px;="" background-color:="" #c4eef2;="" style="text-align: center"><b>Result of Test</b></td>
</tr>
<tr>
<td style="border: 0px solid black;">
</td>
<td style="border: 0px solid black;">
</td>
<td style="border: 1px solid black; padding-right:10px;  padding-left:10px; width:5cm; text-align: center">
<b>Reject</b>
</td>
<td style="border: 1px solid black; padding-right:10px;  padding-left:10px; width:5cm; text-align: center">
<b>Fail to Reject</b>
</td>
</tr>
<tr>
<td style="border: 0px solid black; text-align: center; vertical-align: middle;" rowspan="2">
<b><i>H</i><sub>0</sub></b>
</td>
<td style="border: 0px solid black;">
<b>True</b>
</td>
<td style="border: 1px solid black; padding-right:10px;  padding-left:10px; text-align:center; color:red">
<b>Type I Error</b>
</td>
<td style="border: 1px solid black; padding-right:10px;  padding-left:10px; text-align:center; color:green">
<b>GOOD</b>
</td>
</tr>
<tr>
<td style="border: 0px solid black;">
<b>False</b>
</td>
<td style="border: 1px solid black; padding-right:10px;  padding-left:10px; text-align:center; color:green">
<b>GOOD</b>
</td>
<td style="border: 1px solid black; padding-right:10px;  padding-left:10px; text-align:center; color:red">
<b>Type II Error</b>
</td>
</tr>

</tbody></table>
</div>
</section>
<section id="type-i-and-type-ii-errors" class="level2" style="font-size:30px">
<h2 style="font-size:30px" class="anchored" data-anchor-id="type-i-and-type-ii-errors">Type I and Type II Errors</h2>
<div class="fragment">
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<strong>Definition:</strong> Type I and Type II errors
</div>
</div>
<div class="callout-body-container callout-body">
<div class="nonincremental">
<div style="font-size: 25px">
<ul>
<li>A <strong>Type I Error</strong> occurs when we reject <span class="math inline">\(H_0\)</span>, when <span class="math inline">\(H_0\)</span> was actually true.</li>
<li>A <strong>Type II Error</strong> occurs when we fail to reject <span class="math inline">\(H_0\)</span>, when <span class="math inline">\(H_0\)</span> was actually false.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<ul>
<li><p>A common way of interpreting Type I and Type II errors are in the context of the judicial system.</p></li>
<li><p>The US judicial system is built upon a motto of “innocent until proven guilty.” As such, the null hypothesis is that a given person is innocent.</p></li>
<li><p>A Type I error represents convicting an innocent person.</p></li>
<li><p>A Type II error represents letting a guilty person go free.</p></li>
</ul>
</section>
<section id="type-i-and-type-ii-errors-1" class="level2" style="font-size:30px">
<h2 style="font-size:30px" class="anchored" data-anchor-id="type-i-and-type-ii-errors-1">Type I and Type II Errors</h2>
<ul>
<li><p>Viewing the two errors in the context of the judicial system also highlights a tradeoff.</p></li>
<li><p>If we want to reduce the number of times we wrongfully convict an innocent person, we may want to make the conditions for convicting someone even stronger.</p></li>
<li><p>But, this would have the consequence of having fewer people overall convicted, thereby (and inadvertently) <em>increasing</em> the chance we let a guilty person go free.</p></li>
<li><p>As such, <u>controlling for one type of error increses the likelihood of committing the other type.</u></p></li>
</ul>
</section>
<section id="worked-out-example-2" class="level2">
<h2 class="anchored" data-anchor-id="worked-out-example-2">Worked-Out Example</h2>
<div class="fragment">
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Worked-Out Example 2
</div>
</div>
<div class="callout-body-container callout-body">
<div class="nonincremental">
<div style="font-size: 28px">
<p><em>Forbes</em> magazine has claimed that, as of May 2023, 91.7% of US households own a vehicle.</p>
<p>Assuming we are conducting a two-sided test, what would a Type I error be in the context of this experiment? What about a Type II error?</p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="solutions-1" class="level2" style="font-size:32px">
<h2 style="font-size:32px" class="anchored" data-anchor-id="solutions-1">Solutions</h2>
<ul>
<li><p>A Type I error would be concluding that the true proportion of US households that own a vehicle is not 91.7%, when in fact 91.7% of US households own a vehicle.</p></li>
<li><p>A Type II error would be concluding that the true proportion of US households that own a vehicle is 91.7%, when in fact the true proportion is <em>not</em> 91.8%.</p></li>
</ul>
</section>
<section id="constructing-tests-for-a-proportion" class="level1">
<h1>Constructing Tests for a Proportion</h1>
<section id="leadup" class="level2" style="font-size:30px">
<h2 style="font-size:30px" class="anchored" data-anchor-id="leadup">Leadup</h2>
<ul>
<li><p>Alright, now we know about the basics and background surrounding hypothesis tests.</p></li>
<li><p>How do we actually <em>construct</em> one?</p></li>
<li><p>Let’s focus on hypothesis testing for population proportions for now; we’ll deal with sample means later.</p></li>
<li><p>Recall our setup: our hypothesis test should be some sort of decision-making process of the form <span class="math display">\[ \texttt{decision}(\texttt{data}) = \begin{cases} \texttt{reject } H_0 &amp; \text{if } \texttt{...} \\  \texttt{fail to reject } H_0 &amp; \text{if } \texttt{...} \\ \end{cases}  \]</span></p></li>
</ul>
</section>
<section id="leadup-1" class="level2" style="font-size:30px">
<h2 style="font-size:30px" class="anchored" data-anchor-id="leadup-1">Leadup</h2>
<ul>
<li><p>For the moment, let’s return to the cat example from the beginning of the lecture.</p></li>
<li><p>Letting <span class="math inline">\(p\)</span> denote the true proportion of orange tabby cats that are female, our null hypothesis takes the form <span class="math inline">\(H_0: \ p = 0.2\)</span>.</p></li>
<li><p>Suppose we take a two-sided alternative: <span class="math inline">\(H_A: \ p \neq 0.2\)</span>.</p></li>
<li><p>Now, we have a good summary statistic for proportions: <span class="math inline">\(\widehat{P}\)</span>.</p></li>
<li><p>As such, our decision process should probably be of the form <span class="math display">\[ \texttt{decision}(\widehat{p}) = \begin{cases} \texttt{reject } H_0 &amp; \text{if } \texttt{...} \\  \texttt{fail to reject } H_0 &amp; \text{if } \texttt{...} \\ \end{cases}  \]</span></p></li>
<li><p>Said differently: if we observe a value of <span class="math inline">\(\widehat{p} = 0.82\)</span>, or a value of <span class="math inline">\(\widehat{p} = 0.001\)</span>, we would likely be inclined to reject the null.</p></li>
</ul>
</section>
<section id="test-statistic" class="level2" style="font-size:30px">
<h2 style="font-size:30px" class="anchored" data-anchor-id="test-statistic">Test Statistic</h2>
<ul>
<li><p>So, it makes sense to reject <span class="math inline">\(H_0\)</span> when <span class="math inline">\(\widehat{p}\)</span> is very far away from <span class="math inline">\(p_0\)</span> (which, in the cat example, is <span class="math inline">\(0.2\)</span>). <span class="math display">\[ \texttt{decision}(\widehat{p}) = \begin{cases} \texttt{reject } H_0 &amp; \text{if $\widehat{p}$ is far from $p_0$} \\  \texttt{fail to reject } H_0 &amp; \text{otherwise}\\ \end{cases}  \]</span></p></li>
<li><p>For reasons that will become clear in a few slides, we typically avoid using <span class="math inline">\(\widehat{p}\)</span> and instead use a <em>standardized</em> version of <span class="math inline">\(\widehat{p}\)</span>: <span class="math display">\[ \mathrm{TS} = \frac{\widehat{P} - p_0}{\sqrt{\frac{p_0 (1 - p_0)}{n}}} \]</span> where <span class="math inline">\(\mathrm{TS}\)</span> stands for <strong>test statistic</strong>.</p></li>
</ul>
</section>
<section id="test-statistic-1" class="level2">
<h2 class="anchored" data-anchor-id="test-statistic-1">Test Statistic</h2>
<ul>
<li><p>Note that, by definition, the test statistic <span class="math inline">\(\mathrm{TS}\)</span> is a random variable!</p>
<ul>
<li>This is because it is simply a centered and scaled version of <span class="math inline">\(\widehat{P}\)</span>, which we know is a random variable.</li>
</ul></li>
<li><p>For a given sample, however, we will have a given observed value of <span class="math inline">\(\widehat{P}\)</span>, namely <span class="math inline">\(\widehat{p}\)</span>, which will lead to an <em>observed instance</em> of our test statistic <span class="math display">\[ \mathrm{ts} = \frac{\widehat{p} - p_0}{\sqrt{ \frac{p_0 (1 - p_0)}{n}}} \]</span></p></li>
</ul>
</section>
<section id="test-statistic-2" class="level2" style="font-size:30px">
<h2 style="font-size:30px" class="anchored" data-anchor-id="test-statistic-2">Test Statistic</h2>
<ul>
<li><p>Let’s try and convert our decision-making process to be in terms of the test statistic.</p></li>
<li><p>First, note that saying <span class="math inline">\(\widehat{p}\)</span> is “far away” from <span class="math inline">\(p_0\)</span> could mean one of two things:</p>
<ul>
<li><span class="math inline">\(\widehat{p}\)</span> was <em>much larger</em> than <span class="math inline">\(p_0\)</span></li>
<li><span class="math inline">\(\widehat{p}\)</span> was <em>much smaller</em> than <span class="math inline">\(p_0\)</span></li>
</ul></li>
<li><p>These two cases can be combined into a single case if we think in terms of the magnitude of the distance bewteen <span class="math inline">\(\widehat{p}\)</span> and <span class="math inline">\(p_0\)</span>, which is equivalent to considering <span class="math inline">\(|\mathrm{ts}|\)</span>.</p></li>
<li><p>What I’m getting at is this: if <span class="math inline">\(\widehat{p}\)</span> was far away from <span class="math inline">\(p_0\)</span>, then <span class="math inline">\(|\mathrm{ts}|\)</span> must be large.</p></li>
<li><p>Hence, we can rephrase our decision process as <span class="math display">\[ \texttt{decision}(\mathrm{TS}) = \begin{cases} \texttt{reject } H_0 &amp; \text{if $|\mathrm{TS}|$ is large} \\  \texttt{fail to reject } H_0 &amp; \text{otherwise}\\ \end{cases}  \]</span></p></li>
</ul>
</section>
<section id="constructing-the-test" class="level2" style="font-size:30px">
<h2 style="font-size:30px" class="anchored" data-anchor-id="constructing-the-test">Constructing the Test</h2>
<ul>
<li><p>Okay, but how large is “large”?</p></li>
<li><p>That is, for what values of <span class="math inline">\(|\mathrm{TS}|\)</span> will we reject the null?</p>
<ul>
<li>By the way, the set of values that correspond to a decision of <code>reject</code> is called the <strong>rejection region</strong> of a test.</li>
</ul></li>
<li><p>In other words, if our test takes the form <span class="math display">\[ \texttt{decision}(\mathrm{TS}) = \begin{cases} \texttt{reject } H_0 &amp; \text{if } |\mathrm{TS}| &gt; c \\ \texttt{fail to reject } H_0 &amp; \text{otherwise}\\ \end{cases}  \]</span> what value should we take <span class="math inline">\(c\)</span> to be?</p></li>
</ul>
</section>
<section id="the-errors" class="level2" style="font-size:30px">
<h2 style="font-size:30px" class="anchored" data-anchor-id="the-errors">The Errors</h2>
<ul>
<li><p>Well, to answer this question, we need to return to our considerations of Type II and Type II errors.</p></li>
<li><p>Recall that a Type I error occurs when we reject <span class="math inline">\(H_0\)</span> when <span class="math inline">\(H_0\)</span> was actually true, and a Type II error occurs when we fail to reject <span class="math inline">\(H_0\)</span> when <span class="math inline">\(H_0\)</span> was false.</p></li>
<li><p>Changing the value of <span class="math inline">\(c\)</span> changes the probability of committing the two types of errors!</p></li>
<li><p>Specifically, setting a larger value of <span class="math inline">\(c\)</span> corresponds to rejecting <span class="math inline">\(H_0\)</span> for <em>fewer</em> values, thereby <em>decreasing</em> the probability of committing a Type I errror but <em>increasing</em> the probability of committing a Type II error.</p></li>
<li><p>Conversely, setting a smaller value of <span class="math inline">\(c\)</span> corresponds to rejecting <span class="math inline">\(H_0\)</span> for <em>more</em> values, thereby <em>increasing</em> the probability of committing a Type I error but <em>decreasing</em> the probability of committing a Type II error.</p></li>
</ul>
</section>
</section>
<section id="section" class="level1" data-background-color="black" data-background-image="https://media1.giphy.com/media/ZgURe4CWXu8gBEpwYy/giphy.gif?cid=ecf05e478scdoyx294uhpvadt2fcoifjt1mwm8y8lmhvud3b&amp;ep=v1_gifs_search&amp;rid=giphy.gif&amp;ct=g" data-background-size="contain">
<h1 data-background-color="black" data-background-image="https://media1.giphy.com/media/ZgURe4CWXu8gBEpwYy/giphy.gif?cid=ecf05e478scdoyx294uhpvadt2fcoifjt1mwm8y8lmhvud3b&amp;ep=v1_gifs_search&amp;rid=giphy.gif&amp;ct=g" data-background-size="contain"></h1>
<section id="the-compromise" class="level2" style="font-size:30px">
<h2 style="font-size:30px" class="anchored" data-anchor-id="the-compromise">The Compromise</h2>
<ul>
<li><p>We need to compromise!</p></li>
<li><p>In practice, we go into the test knowing how much leeway we are going to allow ourselves to commit a Type I error. That is, we <em>prespecify</em> our tolerance for committing a Type I error.</p></li>
<li><p>The probability of committing a Type I error is called the <strong>level of significance</strong> (or just <strong>significance level</strong>), and is often denoted <span class="math inline">\(\alpha\)</span>.</p></li>
<li><p>Statisticians therefore construct a hypothesis test around a specific value of <span class="math inline">\(\alpha\)</span>.</p></li>
<li><p>A common level of significance is <span class="math inline">\(\alpha = 0.05\)</span>, though <span class="math inline">\(\alpha = 0.01\)</span> and <span class="math inline">\(\alpha = 0.1\)</span> are sometimes used as well.</p></li>
<li><p>Okay, so what does this mean for our test?</p></li>
<li><p>We now know that <span class="math inline">\(\alpha\)</span> denotes the probability of rejecting the null when the null is true; i.e. <span class="math display">\[ \mathbb{P}_{H_0}(|\mathrm{TS}| &gt; c) = \alpha \]</span> where the symbol <span class="math inline">\(\mathbb{P}_{H_0}\)</span> just means “assuming the null, the probability of….”</p></li>
</ul>
</section>
<section id="the-compromise-1" class="level2" style="font-size:28px">
<h2 style="font-size:28px" class="anchored" data-anchor-id="the-compromise-1">The Compromise</h2>
<ul>
<li><p>Again, remember that <span class="math inline">\(\alpha\)</span> is fixed (e.g.&nbsp;<span class="math inline">\(0.05\)</span>); it is the value of <span class="math inline">\(c\)</span> we are after!</p></li>
<li><p>So, a natural question arises: what is the distribution of <span class="math inline">\(\mathrm{TS}\)</span> under the null?</p></li>
<li><p>Recall that <span class="math display">\[ \mathrm{TS} = \frac{\widehat{P} - p_0}{\sqrt{\frac{p_0 (1 - p_0)}{n}}} \]</span></p></li>
<li><p>Now, assuming the null is true (i.e.&nbsp;that <span class="math inline">\(p = p_0\)</span>), the Central Limit Theorem for Proportions tells us <span class="math display">\[ \widehat{P} \stackrel{H_0}{\sim} \mathcal{N}\left(p_0, \ \sqrt{\frac{p_0(1 - p_0)}{n}} \right) \]</span> where the symbol <span class="math inline">\(\stackrel{H_0}{\sim}\)</span> is just a shorthand for “distributed as, under the null”</p></li>
</ul>
</section>
<section id="the-distribution-of-the-test-statistic" class="level2" style="font-size:30px">
<h2 style="font-size:30px" class="anchored" data-anchor-id="the-distribution-of-the-test-statistic">The Distribution of the Test Statistic</h2>
<ul>
<li><p>Therefore, assuming the null is correct, we have <span class="math display">\[ \mathrm{TS} \sim \mathcal{N}(0, \ 1)\]</span></p></li>
<li><p>So, our condition <span class="math display">\[ \mathbb{P}_{H_0}(|\mathrm{TS}| &gt; c) = \alpha \]</span> which, by the symmetry of the standard normal distribution, is equivalent to <span class="math display">\[ \mathbb{P}_{H_0}(\mathrm{TS} &lt; -c) = \frac{\alpha}{2} \]</span></p></li>
<li><p>Hence, <span class="math inline">\(-c\)</span> is just the <span class="math inline">\((\alpha / 2) \times 100\)</span> percentile of the standard normal distribution!!!</p></li>
</ul>
</section>
<section id="the-test" class="level2" style="font-size:30px">
<h2 style="font-size:30px" class="anchored" data-anchor-id="the-test">The Test</h2>
<div class="fragment">
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<strong>Two-Sided Test for a Proportion:</strong>
</div>
</div>
<div class="callout-body-container callout-body">
<div class="nonincremental">
<div style="font-size: 25px">
<p>When testing <span class="math inline">\(H_0: \ p = p_0\)</span> vs <span class="math inline">\(H_A: \ p \neq p_0\)</span> at an <span class="math inline">\(\alpha\)</span> level of significance, where <span class="math inline">\(p\)</span> denotes a population proportion, the test takes the form <span class="math display">\[ \texttt{decision}(\mathrm{TS}) = \begin{cases} \texttt{reject } H_0 &amp; \text{if } |\mathrm{TS}| &gt; z_{1 - \alpha/2} \\ \texttt{fail to reject } H_0 &amp; \text{otherwise}\\ \end{cases}  \]</span> where:</p>
<ul>
<li><p><span class="math inline">\(\displaystyle \mathrm{TS} = \frac{\widehat{p} - p_0}{\sqrt{\frac{p_0(1 - p_0)}{n}}}\)</span></p></li>
<li><p><span class="math inline">\(z_{1 - \alpha/2}\)</span> denotes the <span class="math inline">\((\alpha/2) \times 100\)</span><sup>th</sup> percentile of the standard normal distribution, scaled by negative 1 (which is equivalent to the <span class="math inline">\((1 - \alpha/2) \times 100\)</span><sup>th</sup> percentile)</p></li>
</ul>
<p>provided that: <span class="math inline">\(n p_0 \geq 10\)</span> and <span class="math inline">\(n (1 - p_0) \geq 10\)</span>.</p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="the-test-1" class="level2" style="font-size:30px">
<h2 style="font-size:30px" class="anchored" data-anchor-id="the-test-1">The Test</h2>
<ul>
<li>For example, if <span class="math inline">\(\alpha = 0.05\)</span> then <span class="math inline">\(c\)</span> is negative 1 times the 2.5<sup>th</sup> percentile of the standard normal distribution; i.e.&nbsp;1.96 and our test becomes <span class="math display">\[ \texttt{decision}(\mathrm{TS}) = \begin{cases} \texttt{reject } H_0 &amp; \text{if } |\mathrm{TS}| &gt; 1.96 \\ \texttt{fail to reject } H_0 &amp; \text{otherwise}\\ \end{cases}  \]</span></li>
</ul>
<div class="fragment" style="color:red; font-size:40px">
<p><strong>CAUTION!!!</strong></p>
</div>
<ul>
<li><p>All of this is predicated on our invocation of the Central Limit Theorem for Proportions!</p></li>
<li><p>In other words, the test above was derived assuming <span class="math display">\[ \widehat{P} \stackrel{H_0}{\sim} \mathcal{N}\left(p_0, \ \sqrt{\frac{p_0(1 - p)}{n}} \right) \]</span></p></li>
</ul>
</section>
<section id="the-assumptions" class="level2" style="font-size:30px">
<h2 style="font-size:30px" class="anchored" data-anchor-id="the-assumptions">The Assumptions</h2>
<div class="nonincremental">
<ul>
<li>This is not always true!</li>
</ul>
</div>
<ul>
<li>When is this true? In other words, what conditions do we need in order for the above distributional statement to be true?
<ul>
<li>That’s right, the success-failure conditions.</li>
</ul></li>
<li>But now, since we only need the above to be true for <span class="math inline">\(p = p_0\)</span>, we only need to verify that:
<ol type="1">
<li><span class="math inline">\(n p_0 \geq 10\)</span></li>
<li><span class="math inline">\(n (1 - p_0) \geq 10\)</span></li>
</ol></li>
<li>It is very important we check these conditions before conducting our test!</li>
</ul>
</section>
<section id="the-test-2" class="level2" style="font-size:30px">
<h2 style="font-size:30px" class="anchored" data-anchor-id="the-test-2">The Test</h2>
<div class="fragment">
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<strong>Two-Sided Test for a Proportion:</strong>
</div>
</div>
<div class="callout-body-container callout-body">
<div style="font-size: 25px">
<p>When testing <span class="math inline">\(H_0: \ p = p_0\)</span> vs <span class="math inline">\(H_A: \ p \neq p_0\)</span> at an <span class="math inline">\(\alpha\)</span> level of significance, where <span class="math inline">\(p\)</span> denotes a population proportion:</p>
<ol type="1">
<li><p>Check that the success-failure conditions hold. Namely, check that:</p>
<ul>
<li><span class="math inline">\(n p_0 \geq 10\)</span></li>
<li><span class="math inline">\(n (1 - p_0) \geq 10\)</span></li>
</ul></li>
<li><p>Compute the observed value of the test statistic <span class="math display">\[\displaystyle \mathrm{ts} = \frac{\widehat{p} - p_0}{\sqrt{\frac{p_0(1 - p_0)}{n}}}\]</span></p></li>
<li><p>Compute the <strong>critical value</strong> <span class="math inline">\(z_{1 - \alpha/2}\)</span>, which is the the <span class="math inline">\((\alpha/2) \times 100\)</span><sup>th</sup> percentile of the standard normal distribution, scaled by negative 1 (or simply the <span class="math inline">\((1 - \alpha/2) \times 100\)</span><sup>th</sup> percentile)</p></li>
<li><p><code>Reject</code> <span class="math inline">\(H_0\)</span> if <span class="math inline">\(|\mathrm{TS}| &gt; z_{1 - \alpha/2}\)</span>, and <code>fail to reject</code> <span class="math inline">\(H_0\)</span> otherwise.</p></li>
</ol>
</div>
</div>
</div>
</div>
</section>
<section id="worked-out-example-3" class="level2">
<h2 class="anchored" data-anchor-id="worked-out-example-3">Worked-Out Example</h2>
<div class="fragment">
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Worked-Out Example 3
</div>
</div>
<div class="callout-body-container callout-body">
<div class="nonincremental">
<div style="font-size: 28px">
<p><em>Forbes</em> magazine has claimed that, as of May 2023, 91.7% of US households own a vehicle. To test that claim, we take a representative sample of 500 US households and observe that 89.4% of these households own a vehicle.</p>
<p>Conduct a two-sided hypothesis test at a <span class="math inline">\(5\%\)</span> level of significance on <em>Forbes</em>’s claim that 91.7% of US households own a vehicle. Be sure you phrase your conclusion clearly, and in the context of the problem.</p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="solutions-2" class="level2" style="font-size:28px">
<h2 style="font-size:28px" class="anchored" data-anchor-id="solutions-2">Solutions</h2>
<ul>
<li>All we really need to do is follow the steps outlined in the previous slide.</li>
</ul>
<ol type="1">
<li><p><strong>Check Conditions</strong></p>
<ul>
<li><p><span class="math inline">\(n p_0 = 500 \cdot (0.917) = 458.5 \geq 10 \ \checkmark\)</span></p></li>
<li><p><span class="math inline">\(n (1 - p_0) = 500 \cdot (1 - 0.917) = 41.5 \geq 10 \ \checkmark\)</span></p></li>
<li><p>Since both conditions are met, we can proceed.</p></li>
</ul></li>
<li><p><strong>Compute the Observed Value of the Test Statistic</strong> <span class="math display">\[ \mathrm{ts} = \frac{\widehat{p} - p_0}{\sqrt{\frac{p_0 (1 - p_0)}{n}}} = \frac{0.894 - 0.917}{\sqrt{\frac{0.917 (1 - 0.917)}{500}}} = -1.86 \]</span></p></li>
<li><p><strong>Compute the critical value</strong> Because <span class="math inline">\(\alpha = 0.05\)</span>, the critical value is <span class="math inline">\(1.96\)</span>.</p></li>
</ol>
</section>
<section id="solutions-3" class="level2" style="font-size:30px">
<h2 style="font-size:30px" class="anchored" data-anchor-id="solutions-3">Solutions</h2>
<ol start="4" type="1">
<li><strong>Conduct the test:</strong> We see that <span class="math inline">\(|\mathrm{TS}| = |-1.86| = 1.86\)</span> which is <em>not</em> greater than <span class="math inline">\(1.96\)</span>. As such, we <strong>fail to reject the null</strong>.</li>
</ol>
<ul>
<li><p>Now, the problem told us to phrase our conclusions carefully and in the context of the problem.</p></li>
<li><p>It is <strong>VERY</strong> important to include the level of significance in your final conclusions.</p></li>
<li><p>So, here is how we would phrase the final conclusion of our test:</p></li>
</ul>
<div class="fragment">
<blockquote class="blockquote">
<p>At an <span class="math inline">\(\alpha = 0.05\)</span> level of significance, there is insufficient evidence to reject <em>Forbes</em>’s claim that 91.7% of US households own a vehicle in favor of the alternative that the true proportion of US households that own a vehicle is not 91.7%.</p>
</blockquote>
</div>
<ul>
<li>It is very important to include the level of significance in our conclusion! This is because the final outcome of our test may change depending on which level of significance we use.</li>
</ul>
</section>
<section id="worked-out-example-4" class="level2">
<h2 class="anchored" data-anchor-id="worked-out-example-4">Worked-Out Example</h2>
<div class="fragment">
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Worked-Out Example 4
</div>
</div>
<div class="callout-body-container callout-body">
<div class="nonincremental">
<div style="font-size: 28px">
<p><em>Forbes</em> magazine has claimed that, as of May 2023, 91.7% of US households own a vehicle. To test that claim, we take a representative sample of 500 US households and observe that 89.4% of these households own a vehicle.</p>
<p>Conduct a two-sided hypothesis test at a <span class="math inline">\(10\%\)</span> level of significance on <em>Forbes</em>’s claim that 91.7% of US households own a vehicle. Be sure you phrase your conclusion clearly, and in the context of the problem.</p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="solutions-4" class="level2" style="font-size:30px">
<h2 style="font-size:30px" class="anchored" data-anchor-id="solutions-4">Solutions</h2>
<ul>
<li><p>The only thing that will change from before is our critical value.</p></li>
<li><p>Since we are using an <span class="math inline">\(\alpha = 0.1\)</span> level of significance, we find the <span class="math inline">\([1 - (0.1 / 2)] \times 100\)</span><sup>th</sup> percentile (which is equivalent to the <span class="math inline">\((0.1 / 2) \times 100\)</span><sup>th</sup> percentile, scaled by negative 1).</p></li>
<li><p>There are several ways we could find this critical value.</p></li>
<li><p>The first is to use our normal table: <span class="math inline">\(1.645\)</span>.</p></li>
<li><p>The second is to use our <span class="math inline">\(t-\)</span>table: <span class="math inline">\(1.645\)</span></p></li>
<li><p>The third is to use Python:</p></li>
</ul>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> scipy.stats <span class="im">as</span> sps</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="op">-</span>sps.norm.ppf(<span class="fl">0.1</span> <span class="op">/</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>1.6448536269514729</code></pre>
</div>
</div>
</div>
</section>
<section id="solutions-contd-1" class="level2" style="font-size:30px">
<h2 style="font-size:30px" class="anchored" data-anchor-id="solutions-contd-1">Solutions (cont’d)</h2>
<ul>
<li><p>Hence, we adopt a critical value of <span class="math inline">\(1.645\)</span>.</p></li>
<li><p>Since the observed value of our test statistic <span class="math inline">\(|\mathrm{ts}| = 1.86\)</span> is now larger than the critical value, we <strong>reject</strong> the null.</p></li>
</ul>
<div class="fragment">
<blockquote class="blockquote">
<p>At an <span class="math inline">\(\alpha = 0.1\)</span> level of significance, there is evidence to reject <em>Forbes</em>’s claim that 91.7% of US households own a vehicle in favor of the alternative that the true proportion of households that own a vehicle is not 91.7%.</p>
</blockquote>
</div>
<ul>
<li><p>Intuitively, it makes sense why we might reject for this new level of significance.</p></li>
<li><p>We know that the level of significance represents the probability of committing a Type I Error.</p></li>
<li><p>If we increase this value (which we did, in adopting <span class="math inline">\(\alpha = 0.1\)</span> as opposed to <span class="math inline">\(\alpha = 0.05\)</span> in the previous example), we are allowing a greater chance of falsely rejecting the null, which comes part-in-parcel with rejecting for more values of the test statistic.</p></li>
</ul>
</section>
<section id="one-sided-tests" class="level2">
<h2 class="anchored" data-anchor-id="one-sided-tests">One-Sided Tests</h2>
<ul>
<li><p>On the homework, I ask you to walk through the details of deriving a lower-tailed test.</p></li>
<li><p>You can use a similar set of arguments to derive the upper-tailed test as well.</p></li>
<li><p>For posterity’s sake, here are the final results of each:</p></li>
</ul>
</section>
<section id="lower-tailed-test" class="level2">
<h2 class="anchored" data-anchor-id="lower-tailed-test">Lower-Tailed Test</h2>
<div class="fragment">
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<strong>Lower-Tailed Test for a Proportion:</strong>
</div>
</div>
<div class="callout-body-container callout-body">
<div class="nonincremental">
<div style="font-size: 25px">
<p>When testing <span class="math inline">\(H_0: \ p = p_0\)</span> vs <span class="math inline">\(H_A: \ p &lt; p_0\)</span> at an <span class="math inline">\(\alpha\)</span> level of significance, where <span class="math inline">\(p\)</span> denotes a population proportion, the test takes the form <span class="math display">\[ \texttt{decision}(\mathrm{TS}) = \begin{cases} \texttt{reject } H_0 &amp; \text{if } \mathrm{TS} &lt; z_{\alpha} \\ \texttt{fail to reject } H_0 &amp; \text{otherwise}\\ \end{cases}  \]</span> where:</p>
<ul>
<li><p><span class="math inline">\(\displaystyle \mathrm{TS} = \frac{\widehat{p} - p_0}{\sqrt{\frac{p_0(1 - p_0)}{n}}}\)</span></p></li>
<li><p><span class="math inline">\(z_{\alpha}\)</span> denotes the <span class="math inline">\((\alpha) \times 100\)</span><sup>th</sup> percentile of the standard normal distribution, <strong>not scaled by anything</strong></p></li>
</ul>
<p>provided that: <span class="math inline">\(n p_0 \geq 10\)</span> and <span class="math inline">\(n (1 - p_0) \geq 10\)</span>.</p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="upper-tailed-test" class="level2">
<h2 class="anchored" data-anchor-id="upper-tailed-test">Upper-Tailed Test</h2>
<div class="fragment">
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<strong>Upper-Tailed Test for a Proportion:</strong>
</div>
</div>
<div class="callout-body-container callout-body">
<div class="nonincremental">
<div style="font-size: 25px">
<p>When testing <span class="math inline">\(H_0: \ p = p_0\)</span> vs <span class="math inline">\(H_A: \ p &gt; p_0\)</span> at an <span class="math inline">\(\alpha\)</span> level of significance, where <span class="math inline">\(p\)</span> denotes a population proportion, the test takes the form <span class="math display">\[ \texttt{decision}(\mathrm{TS}) = \begin{cases} \texttt{reject } H_0 &amp; \text{if } \mathrm{TS} &gt; z_{1 - \alpha} \\ \texttt{fail to reject } H_0 &amp; \text{otherwise}\\ \end{cases}  \]</span> where:</p>
<ul>
<li><p><span class="math inline">\(\displaystyle \mathrm{TS} = \frac{\widehat{p} - p_0}{\sqrt{\frac{p_0(1 - p_0)}{n}}}\)</span></p></li>
<li><p><span class="math inline">\(z_{1 - \alpha}\)</span> denotes the <span class="math inline">\((1 - \alpha) \times 100\)</span><sup>th</sup> percentile of the standard normal distribution, <strong>not scaled by anything</strong></p></li>
</ul>
<p>provided that: <span class="math inline">\(n p_0 \geq 10\)</span> and <span class="math inline">\(n (1 - p_0) \geq 10\)</span>.</p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="note" class="level2">
<h2 class="anchored" data-anchor-id="note">Note</h2>
<ul>
<li><p>I don’t recommend you try and memorize all of the different percentiles and critical values.</p></li>
<li><p>Instead, I recommend you familiarize yourself with the process used to derive these tests, as that will immediately tell you what picture to draw, which will in turn tell you which quantile we are after in a given situation.</p></li>
<li><p>There are some problems on the practice problems that give you practice with these one-sided alternatives.</p></li>
</ul>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">Site Designed by Ethan Marzban using Quarto; ©2023</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>



</body></html>