{"title":"PSTAT 5A: Midterm 1 Review","markdown":{"yaml":{"title":"PSTAT 5A: Midterm 1 Review","subtitle":"Overview of Weeks 1 through 3","author":"Ethan P. Marzban","date":"04/20/23","format":{"revealjs":{"html-math-method":"mathjax","theme":["default","custom.scss"],"incremental":true,"logo":"5a_hex.png","template-partials":["title-slide.html"]}},"editor":"source","title-slide-attributes":{"data-background-image":"5a_hex.png","data-background-size":"contain","data-background-opacity":"0.5","data-background-position":"left"}},"headingText":"Descriptive Statistics","containsRefs":false,"markdown":"\n\n```{r setup, include=FALSE}\nlibrary(tidyverse)\nlibrary(ggthemes)\n```\n\n\n## Structure of Data {style=\"font-size:28px\"}\n\n- We started by talking about the structure of data.\n- We were exposed to the notion of a **data matrix**, which is comprised of a series of **observational units** (i.e. rows) on a series of **variables** (i.e. columns)\n- For instance, the `palmerpenguins` data matrix is:\n\n:::{.fragment}\n```{r, message = F, echo = F}\n#| class-output: hscroll\n\nlibrary(palmerpenguins)\nlibrary(tidyverse)\n# penguins\ncat(format(as_tibble(penguins))[-c(3L, 1L)], sep = \"\\n\")\n```\n\n```{css, echo=FALSE}\n.hscroll {\n  overflow-x: auto;\n  white-space: nowrap;\n}\n```\n:::\n\n## Structure of Data  {style=\"font-size:28px\"}\n\n:::{.nonincremental}\n- Of course, the reader is not expected to *a priori* know what the variables in a dataset represent; as such, most datasets come equipped with a **data dictionary** that lists out the variables included in the dataset along with a brief description of each.\n:::\n\n:::{style=\"font-size:25px\"}\n| **Variable** | **Description** |\n|:------------:|:---------------:|\n| `species` | The species of penguin (either Adelie, Chinstrap, or Gentoo) |\n| `island` | The island on which the penguin was found (either Biscoe, Dream, or Torgersen) |\n| `bill_length_mm` | The length (millimeters) of the penguin's bill |\n| `bill_depth_mm` | The depth (in millimeters) of the penguin's bill |\n| `flipper_length_mm` | The length (in millimeters) of the penguin's flipper |\n| `body_mass_g` | The mass (in grams) of the penguin |\n| `sex` | The sex of the penguin (either Male or Female) |\n| `year` | The year in which the penguin was observed |\n:::\n\n## Classification of Variables\n\n- We also saw that variables fall into two main types: **numerical** and **categorical**.\n    - Remember that it is not enough to simply check whether our data is comprised of numbers, as categorical data can be encoded using numbers (e.g. months in a year).\n    - Rather, we should check whether it makes interpretable sense to add two elements in our variable (e.g. `1` + `2` is `3`, whereas `Jan` + `Feb` is not `March`).\n    \n## Classification of Variables\n\n- Within numerical data, we have a further subdivision into **discrete** and **continuous** variables.\n\n    - The set of possible values of a discrete variable has jumps, whereas the set possible values of a continuous variable has no jumps.\n    \n- Within categorical data, we have a further subdivision into **ordinal** and **nominal** variables.\n\n    - Ordinal variables have a natural ordering (e.g. letter grades, months of the year, etc.) whereas nominal variables do not (e.g. favorite color)\n    \n## Full Classification Scheme\n\n\n```{dot}\n//| fig-width: 12\n//| fig-height: 5\ndigraph data_classification {\n    layout = dot\n    rankdir = UD\n    splines = false\n    bgcolor = \"#f0ebd8\"\n    edge [arrowsize = 0.5, color = coral4]\n  \nsubgraph cluster_main {\n  color = transparent\n  node [color=transparent, style = filled, fillcolor = cornsilk, shape = egg];\n  \n  Data [label = \"Variable\"]\n  \n  subgraph cluster_0 {\n   color = transparent\n    node [color=transparent, style = filled, fillcolor = aquamarine3, shape = egg];\n    \n    numerical [label = \"Numerical\"]\n    \n    subgraph cluster_1 {\n      color = transparent\n      node [color = transparent, style = filled, fillcolor = bisque1, shape = egg];\n      \n        continuous [label = \"Continuous\"]\n        discrete [label = \"Discrete\"]\n    }\n    \n    {numerical} -> continuous\n    {numerical} -> discrete\n  }\n  \n  subgraph cluster_2 {\n   color = transparent\n    node [color=transparent, style = filled, fillcolor = aquamarine3, shape = egg];\n    \n    categorical [label = \"Categorical\"]\n    \n    subgraph cluster_3 {\n      color = transparent\n      node [color = transparent, style = filled, fillcolor = bisque1, shape = egg];\n      \n        nominal [label = \"Nominal\"]\n        ordinal [label = \"Ordinal\"]\n    }\n    \n    {categorical} -> nominal\n    {categorical} -> ordinal\n  }\n  \n  \n  }\n  \n  {Data} -> numerical\n  {Data} -> categorical\n}\n```\n\n## Visualization\n\n- Once we have classified a variable as being either numerical or categorical, we can ask ourselves: how can we best *visualize* this variable?\n\n- For categorical data, we use a **bargraph** and for numerical data we use either a **histogram** or a **boxplot**.\n\n## Bargraph\n\n```{r, message = F}\nlibrary(tidyverse)\nlibrary(ggthemes)\n\ndata.frame(table(penguins$species)) %>%\n  rename(species = Var1, freq = Freq) %>%\n  ggplot(aes(x = species, y = freq)) +\n  geom_bar(stat = \"identity\",\n           fill = \"#7f9ab5\") +\n  theme_economist(base_size = 18) +\n  theme(panel.background = element_rect(\"#f0ebd8\"),\n        plot.background = element_rect(fill = \"#f0ebd8\"),\n        axis.title.x = element_text(size = 16,\n                                    margin = margin(\n                                      t = 20, \n                                      r = 0,\n                                      b = 0, \n                                      l = 0)),\n        axis.title.y = element_text(size = 16)\n  ) +\n  ggtitle(\"Bargraph of Penguin Species\")\n```\n\n## Histogram\n\n```{r}\n#| echo: false\n\npenguins %>%\n  ggplot(aes(x = bill_length_mm)) +\n  geom_histogram(col = \"white\",\n                 breaks = seq(30, 60, by = 5)) +\n  theme_economist(base_size = 18) +\n  theme(panel.background = element_rect(\"#f0ebd8\"),\n        plot.background = element_rect(fill = \"#f0ebd8\"),\n        axis.title.y = element_text(size = 16,\n                                    margin = margin(\n                                      t = 0, \n                                      r = 10,\n                                      b = 0, \n                                      l = 0)),\n        axis.title.x = element_text(size = 16)\n  ) +\n  ggtitle(\"Distribution of Bill Lengths\")\n\n```\n\n- Remember the importance of **binwidth**: <a href = \"https://epm927.shinyapps.io/Histogram_Binwidths/\" target = \"_blank\">demo</a>\n\n## Boxplot\n\n```{r}\npenguins %>%\n  ggplot(aes(x = bill_length_mm)) +\n  stat_boxplot(geom = \"errorbar\", \n               width = 0.25,\n               linewidth = 1) +\n  geom_boxplot(fill =  \"#7f9ab5\", \n               linewidth = 1,\n               outlier.size = 4) +\n  theme_economist(base_size = 18) +\n  theme(panel.background = element_rect(\"#f0ebd8\"),\n        plot.background = element_rect(fill = \"#f0ebd8\"),\n        axis.title.y = element_text(size = 16,\n                                    margin = margin(\n                                      t = 0, \n                                      r = 10,\n                                      b = 0, \n                                      l = 0)),\n        axis.title.x = element_text(size = 16),\n        axis.text.y = element_blank()\n  ) +\n  ylim(c(-0.75, 0.75)) +\n  ggtitle(\"Boxplot of Bill Lengths\")\n```\n\n- Remember that the **whiskers** are never allowed to extend beyond 1.5 times the **IQR** (and recall that the IQR is just the width of the box).\n\n## Numerical Summaries {style=\"font-size:28px\"}\n\n- We can also produce numerical summaries of numerical variables.\n- **Measures of Central Tendency** are different quantities that summarize the \"center\" of a variable\n    - There are two main measures of central tendency we discussed: the mean and the median.\n\n- The **mean** (or **arithmetic mean**) is a sort of \"balancing point\":\n    \n:::{.fragment}\n![](mean.svg){width=65% fig-align=\"center\"}\n:::\n\n:::{.fragment}\n$$ \\overline{x} = \\frac{1}{n} \\sum_{i=1}^{n} x_i $$\n:::\n\n## Spread {style=\"font-size:28px\"}\n\n- Another way we could summarize a numerical dataset (i.e. a dataset containing only one variable, one that is numerical) is to describe how \"spread out\" the values are.\n\n- The **variance** is a sort of \"average distance of points to the mean\":\n\n:::{.fragment}\n![](sd.svg){width=65% fig-align=\"center\"}\n:::\n\n:::{.fragment}\n$$ s_x^2 = \\frac{1}{n - 1} \\sum_{i=1}^{n} (x_i - \\overline{x})^2 $$\n:::\n\n- The **standard deviation** is just the square root of the variance\n\n## Spread {style=\"font-size:30px\"}\n\n- The **interquartile range** (IQR) is another measure of spread:\n$$ \\mathrm{IQR} = Q_3 - Q_1 $$\nwhere $Q_1$ and $Q_3$ denote the first and third **quartiles**, respectively.\n\n    - Recall that the $p$^th^ **percentile** of a dataset $X$ is the value $\\pi_{x, \\ 0.5}$ such that _p_% of observations lie to the left of (i.e. are less than) $\\pi_{x, \\ 0.5}$. \n    \n    - $Q_1$ is the 25^th^ percentile and $Q_3$ is the 75^th^ percentile\n    \n- The third measure of spread we discussed is the **range**:\n$$ \\mathrm{range}(X) = \\max\\{x_1, \\cdots, x_n\\} - \\min\\{x_1, \\ \\cdots, \\ x_n\\} $$\n\n## 5-Number Summary\n\n- Recall the **five number summary**, which contains:\n\n    1) The minimum\n    2) The first quartile\n    3) The median\n    4) The third quartile\n    5) The maximum\n    \n- Also recall how all of these quantities appear on a boxplot!\n\n## Comparisons of Variables\n\n- If we want to compare two variables, there are three cases to consider:\n    - Numerical vs. Numerical\n    - Numerical vs. Categorical\n    - Categorical vs. Categorical\n\n- When comparing two numerical variables, we use a **scatterplot**\n- When comparing a numerical variable to a categorical variable, we use a **side-by-side boxplot**\n- When comparing two categorical variables, we construct a **contingency table**\n\n---\n\n:::{style=\"font-size:30px\"}\n:::: {.columns}\n\n:::{.column width=\"50%\"} \n- Linear **Negative** Trend:\n\n:::{.fragment}\n```{r}\nset.seed(123)\nx <- rnorm(100)\ny <- -2 * x + rnorm(100, 0, 2)\n\ndata.frame(x, y) %>%\n  ggplot(aes(x = x, y = y)) +\n  geom_point(size = 4) +\n  theme_economist(base_size = 24) +\n  ggtitle(\"Y vs. X\") +\n  theme(panel.background = element_rect(\"#f0ebd8\"),\n        plot.background = element_rect(fill = \"#f0ebd8\"),\n        axis.title.y = element_text(size = 16,\n                                    margin = margin(\n                                      t = 0, \n                                      r = 10,\n                                      b = 0, \n                                      l = 0)),\n        axis.title.x = element_text(size = 16,\n                                    margin = margin(\n                                      t = 10, \n                                      r = 0,\n                                      b = 0, \n                                      l = 0)),\n        title = element_text(size = 18)\n  )\n```\n:::\n:::\n\n:::{.column width=\"50%\"}\n- Nonlinear **Negative** Trend:\n\n:::{.fragment}\n```{r}\nset.seed(123)\nx <- rchisq(100, 20)\ny <- (1 / x^2) + rnorm(100, 0, 0.0005)\n\ndata.frame(x, y) %>%\n  ggplot(aes(x = x, y = y)) +\n  geom_point(size = 4) +\n  theme_economist(base_size = 24) +\n  ggtitle(\"Y vs. X\") +\n  theme(panel.background = element_rect(\"#f0ebd8\"),\n        plot.background = element_rect(fill = \"#f0ebd8\"),\n        axis.title.y = element_text(size = 16,\n                                    margin = margin(\n                                      t = 0, \n                                      r = 10,\n                                      b = 0, \n                                      l = 0)),\n        axis.title.x = element_text(size = 16,\n                                    margin = margin(\n                                      t = 10, \n                                      r = 0,\n                                      b = 0, \n                                      l = 0)),\n        title = element_text(size = 18)\n  )\n```\n:::\n:::\n\n::::\n\n\n:::: {.columns}\n\n:::{.column width=\"50%\"} \n- Nonlinear **Positive** Trend:\n\n:::{.fragment}\n```{r}\nset.seed(123)\nx <- rchisq(100, 20)\ny <- 1 - (1/x^2)  + rnorm(100, 0, 0.0007)\n\ndata.frame(x, y) %>%\n  ggplot(aes(x = x, y = y)) +\n  geom_point(size = 4) +\n  theme_economist(base_size = 24) +\n  ggtitle(\"Y vs. X\") +\n  theme(panel.background = element_rect(\"#f0ebd8\"),\n        plot.background = element_rect(fill = \"#f0ebd8\"),\n        axis.title.y = element_text(size = 16,\n                                    margin = margin(\n                                      t = 0, \n                                      r = 10,\n                                      b = 0, \n                                      l = 0)),\n        axis.title.x = element_text(size = 16,\n                                    margin = margin(\n                                      t = 10, \n                                      r = 0,\n                                      b = 0, \n                                      l = 0)),\n        title = element_text(size = 18)\n  )\n```\n:::\n:::\n\n:::{.column width=\"50%\"}\n- No Discernable Trend\n\n:::{.fragment}\n```{r}\nset.seed(123)\nx <- rchisq(100, 20)\ny <- rchisq(100, 20)\n\ndata.frame(x, y) %>%\n  ggplot(aes(x = x, y = y)) +\n  geom_point(size = 4) +\n  theme_economist(base_size = 24) +\n  ggtitle(\"Y vs. X\") +\n  theme(panel.background = element_rect(\"#f0ebd8\"),\n        plot.background = element_rect(fill = \"#f0ebd8\"),\n        axis.title.y = element_text(size = 16,\n                                    margin = margin(\n                                      t = 0, \n                                      r = 10,\n                                      b = 0, \n                                      l = 0)),\n        axis.title.x = element_text(size = 16,\n                                    margin = margin(\n                                      t = 10, \n                                      r = 0,\n                                      b = 0, \n                                      l = 0)),\n        title = element_text(size = 18)\n  )\n```\n:::\n:::\n\n::::\n:::\n\n# Probability\n\n## Basics of Probability\n\n- Probability is, in many ways, the language of uncertainty.\n- An **experiment** is any procedure we can repeat an infinite number of times, where each time we repeat the procedure the same fixed set of \"things\" can occur\n    - These \"things\" are called **outcomes**\n    - The **outcome space**, denoted $\\Omega$, is the set containing all outcomes associated with a particular experiment.\n    - **Events** are just subset of the outcome space.\n\n- We can express outcome spaces using tables or trees.\n\n## Probability\n\n- **Probability** is a function that acts on events\n    - Notationally: $\\mathbb{P}(E)$\n\n- There are two main approaches to computing probabilities:\n    - The **Classical Aproach:** if outcomes are equally likely, then for any event $E$\n    $$ \\mathbb{P}(E) = \\frac{\\#(E)}{\\#(\\Omega)} $$\n    - The **long-run [relative] frequency approach**: repeat the experiment an infinite number of times and define $\\mathbb{P}(E)$ to be the proportion of times $E$ occurs\n\n## Long-Run Frequencies Example {style=\"font-size:30px\"}\n\n| Toss | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 |\n|:----:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|\n| Outcome| `H` | `T` | `T` | `H` | `T` | `H` | `H` | `H` | `T` | `T` | \n| Raw freq. of `H` | 1 | 1 | 1 | 2 | 2 | 3 | 4 | 5 | 5 | 5 |\n| Rel. freq of `H` | 1/1 | 1/2 | 1/3 | 2/4 | 2/5 | 3/6 | 4/7 | 5/8 | 5/9 | 5/10 |\n\n```{r, fig.height = 3.5}\n#| echo: false\n\nlibrary(tidyverse)\nlibrary(ggthemes)\n\nx <- 1:10\ny <- c(1, 1/2, 1/3, 2/4, 2/5, 3/6, 4/7, 5/8, 5/9, 5/10)\n\ndata.frame(x = x, y = y) %>%\n  ggplot(aes(x = x, y = y)) +\n  geom_point(size = 2) +\n  geom_line() +\n  theme_economist(base_size = 18) +\n  theme(panel.background = element_rect(\"#f0ebd8\"),\n        plot.background = element_rect(fill = \"#f0ebd8\"),\n        axis.title.y = element_text(size = 16,\n                                    margin = margin(\n                                      t = 0, \n                                      r = 10,\n                                      b = 0, \n                                      l = 0)),\n        axis.title.x = element_text(size = 16)\n  ) +\n  ggtitle(\"Relative Frequencies of Heads\")\n```\n\n## Set Operations\n\n- Given two events $E$ and $F$, there are several *operations* we can perform:\n    - **Complement:** $E^\\complement$; denotes \"not $E$\"\n    - **Union:** $E \\cup F$; denotes $E$ or $F$ (or both)\n    - **Intersection:** $E \\cap F$; denotes $E$ and $F$\n\n## Venn Diagrams  {style=\"font-size:30px\"}\n\n:::: {.columns}\n\n::: {.column width=\"50%\"}\n![](VennDiagrams/a_complement.svg){width=50%}\n:::\n\n::: {.column width=\"50%\"}\n:::{style=\"text-align:center\"}\n\n<br />\n$A^\\complement$ <br /> (complement)\n:::\n:::\n\n::::\n\n::::{.columns}\n\n::: {.column width=\"50%\"}\n![](VennDiagrams/ab_intersect_shaded.svg){width=50%}\n:::\n\n::: {.column width=\"50%\"}\n:::{style=\"text-align:center\"}\n\n<br />\n$A \\cap B$ <br /> (intersection)\n:::\n:::\n\n::::\n\n::::{.columns}\n\n::: {.column width=\"50%\"}\n![](VennDiagrams/ab_union.svg){width=50%}\n:::\n\n::: {.column width=\"50%\"}\n:::{style=\"text-align:center\"}\n\n<br />\n$A \\cup B$ <br /> (union)\n:::\n:::\n\n::::\n\n## Axioms of Probability\n\n1) $\\mathbb{P}(E) \\geq 0$ for any event $E$\n\n2) $\\mathbb{P}(\\Omega) = 1$\n\n3) For **disjoint events** $E$ and $F$ (i.e. for $E \\cap F = \\varnothing$), $\\mathbb{P}(E \\cup F) = \\mathbb{P}(E) + \\mathbb{P}(F)$\n\n## Probability Rules\n\n- **Probability of the Empty Set:** $\\mathbb{P}(\\varnothing) = 0$\n\n- **Complement Rule:** $\\mathbb{P}(E^\\complement) = 1 - \\mathbb{P}(E)$\n\n- **Addition Rule:** $\\mathbb{P}(E \\cup F) = \\mathbb{P}(E) + \\mathbb{P}(F) - \\mathbb{P}(E \\cap F)$ \n\n## Conditional Probabilities {style=\"font-size:28px\"}\n\n- $\\mathbb{P}(E \\mid F)$ denotes an \"updating\" of our beliefs on $E$ in the presence of $F$)\n\n    - Definition: $\\displaystyle \\mathbb{P}(E \\mid F) = \\frac{\\mathbb{P}(E \\cap F)}{\\mathbb{P}(F)}$, provided $\\mathbb{P}(F) \\neq 0$\n\n- **Multiplication Rule:** $\\mathbb{P}(E \\cap F) = \\mathbb{P}(E \\mid F) \\cdot \\mathbb{P}(F) = \\mathbb{P}(F \\mid E) \\cdot \\mathbb{P}(E)$\n\n- **Bayes' Rule:** $\\displaystyle \\mathbb{P}(E \\mid F) = \\frac{\\mathbb{P}(F \\mid E) \\cdot \\mathbb{P}(E)}{\\mathbb{P}(F)}$\n\n\n\\\n\n- **Independence** asserts that $\\mathbb{P}(E \\mid F) = \\mathbb{P}(E)$, which in turn implies $\\mathbb{P}(F \\mid E) = \\mathbb{P}(F)$ and $\\mathbb{P}(E \\cap F) = \\mathbb{P}(E) \\cdot \\mathbb{P}(F)$\n     - Note that $\\mathbb{P}(E \\cap F) = \\mathbb{P}(E) \\cdot \\mathbb{P}(F)$ only when $E$ and $F$ are independent! Otherwise, you have to compute $\\mathbb{P}(E \\cap F)$ using the multiplication rule.\n     - The interpretation of independence is that the two events \"do not affect each other\"\n\n\n# Counting\n\n- Don't forget about counting!\n\n\n# Programming\n\n- Don't forget about programming!"},"formats":{"revealjs":{"execute":{"fig-width":10,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":false,"output":true,"warning":false,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"knitr"},"render":{"keep-tex":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":true,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","html-math-method":"mathjax","slide-level":2,"to":"revealjs","incremental":true,"output-file":"mt1_rev_slides.html"},"language":{},"metadata":{"lang":"en","fig-responsive":false,"quarto-version":"1.2.335","auto-stretch":true,"title":"PSTAT 5A: Midterm 1 Review","subtitle":"Overview of Weeks 1 through 3","author":"Ethan P. Marzban","date":"04/20/23","editor":"source","title-slide-attributes":{"data-background-image":"5a_hex.png","data-background-size":"contain","data-background-opacity":"0.5","data-background-position":"left"},"theme":["default","custom.scss"],"logo":"5a_hex.png","template-partials":["title-slide.html"]}}}}